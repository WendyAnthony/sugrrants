---
title: "Compute summary statistics over fixed calendar periods"
author: "Earo Wang"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

In base R, the `ts` function provides an easy way to create a time series object
consisting of input values and user-specified time attributes of
starting/ending time points and frequency. Its extension to manage multivariate
time series is `mts`. There are many built-in functions and R packages for
analysing and forecasting time series data based on the `ts` and `mts` objects,
for example, `aggregate` applying a function to each time block and the
widely-used `forecast` package aiming at time series forecast. The simplicity
achieves at the expense of some flexibilities. The attribute `frequency` implies
input data over regular time intervals, which makes no room for irregular time
series. The `mts` class does not cater for longitudinal data recording the same
subjects at different points in time, as longitudinal data usually comes in long
form whereas `mts` requires a wide data format. (ToDo: `xts` and `zoo`)

Time series data structure in conjunction with data frame.

```{r load, message = FALSE, warning = FALSE}
library(dplyr)
library(ggplot2)
library(sugrrants)
data(sweden_temp)
```

```{r m3}
m3 <- function(x, na.rm = TRUE) {
  average <- mean(x, na.rm = na.rm)
  minimum <- min(x, na.rm = na.rm)
  maximum <- max(x, na.rm = na.rm)
  return(c(minimum, average, maximum))
}
```

```{r aggregate}
sweden_temp_month <- sweden_temp %>% 
  group_by(locations) %>% 
  by_month(date, temp, .f = m3, na.rm = TRUE, .label = "Stats")
```
